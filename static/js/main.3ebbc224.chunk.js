(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(42)},34:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),o=a(17),n=a.n(o),r=(a(34),a(2)),i=a(3),c=a(5),p=a(4),m=a(6),d=a(19),u=a(20),h=a(11),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{},profile:{},profileLoaded:!1,displayName:"",loggedIn:!1,loading:!0,playlists:[],savedPlaylists:[],exploreCards:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_COMPLETE":return console.log("Loading complete"),Object(h.a)({},e,{loading:!1});case"LOADING":return console.log("Loading"),Object(h.a)({},e,{loading:!0});case"LOG_IN":return console.log("Logging in user"),console.log(t.user),Object(h.a)({},e,{loggedIn:!0,user:t.user,displayName:t.user.displayName});case"LOG_OUT":return console.log("Logging out"),Object(h.a)({},e,{loggedIn:!1,user:{},displayName:""});case"SET_FOLLOWS":return console.log("Setting follows"),console.log(t.follows),Object(h.a)({},e,{user:Object(h.a)({},e.user,{follows:t.follows})});case"HIDE_PROFILE":return console.log("Hiding profile"),Object(h.a)({},e,{profileLoaded:!1});case"LOAD_PROFILE":return console.log("Loading profile"),console.log(t.profile),Object(h.a)({},e,{profile:t.profile,profileLoaded:!0});case"SEARCH_PLAYLISTS":return console.log("Searching playlists"),console.log(t.playlists),Object(h.a)({},e,{playlists:t.playlists.playlists.items});case"SET_PLAYLISTS":return console.log("Setting playlists"),console.log(t.playlists),Object(h.a)({},e,{savedPlaylists:t.playlists});case"SET_EXPLORE":return console.log("Setting explore"),console.log(t.explore),Object(h.a)({},e,{exploreCards:t.explore});case"SET_EXPLORE_ANON":return console.log("Setting explore anon"),Object(h.a)({},e,{exploreCards:[{displayName:"buster",id:"1cbe7ee7-1553-4780-ac72-277cc437cf96",playlistId:"spotify-37i9dQZF1DX70RN3TfWWJh"}]});default:return e}},g=a(7),y=a(15),E=function(e){function t(e,a){var s;return Object(r.a)(this,t),(s=Object(c.a)(this,Object(p.a)(t).call(this,e,a))).emailChanged=function(e){s.setState({email:e.target.value})},s.displayNameChanged=function(e){s.setState({displayName:e.target.value})},s.passwordChanged=function(e){s.setState({password:e.target.value})},s.roleChanged=function(e){s.setState({role:e.target.value})},s.toggleLogin=function(){var e=s.state.login?"my-4":"my-5";s.setState({login:!s.state.login,spacing:e})},s.login=function(){s.state.login?(console.log("Logging in"),s.props.login(s.state.email,s.state.password)):(console.log("Registering"),s.props.register(s.state.email,s.state.displayName,s.state.password,s.state.role))},s.state={login:!0,spacing:"my-5",email:"",password:"",displayName:"",role:"LISTENER"},s}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row align-middle ".concat(this.state.spacing)},this.props.loggedIn&&l.a.createElement(y.a,{to:"/"}),l.a.createElement("div",{className:"jumbotron bg-dark text-white border col-sm-12 offset-sm-0 col-md-8 offset-md-2 col-lg-6 offset-lg-3"},l.a.createElement("h1",{className:"display-6 text-center"},this.state.login&&"Sign in",!this.state.login&&"Register"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"col-sm-2 col-form-label"},"Email"),l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("input",{className:"loginInput form-control",id:"email",placeholder:"foo@gmail.com",value:this.state.email,onChange:this.emailChanged}))),!this.state.login&&l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"displayName",className:"col-sm-2 col-form-label"},"Username"),l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("input",{className:"loginInput form-control",id:"displayName",placeholder:"Alice",value:this.state.displayName,onChange:this.displayNameChanged}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password",className:"col-sm-2 col-form-label"},"Password"),l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("input",{type:"password",className:"loginInput form-control wbdv-password-fld",id:"password",placeholder:"123qwe#$%",value:this.state.password,onChange:this.passwordChanged}))),!this.state.login&&l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"role",className:"col-sm-2 col-form-label"},"Role"),l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("select",{className:"form-control",id:"role",value:this.state.role,onChange:this.roleChanged},l.a.createElement("option",{value:"LISTENER"},"Listener"),l.a.createElement("option",{value:"CURATOR"},"Curator")))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-2 col-form-label"}),l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return e.login()}},this.state.login&&"Sign in",!this.state.login&&"Register"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("a",{href:"#",className:"float-left registerTag text-white",onClick:function(){return e.toggleLogin()}},this.state.login&&"Register",!this.state.login&&"Sign in"))))))))}}]),t}(l.a.Component),N=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).emailChanged=function(e){a.setState({email:e.target.value})},a.displayNameChanged=function(e){a.setState({displayName:e.target.value})},a.passwordChanged=function(e){a.setState({password:e.target.value})},a.roleChanged=function(e){a.setState({role:e.target.value})},a.toggleEdit=function(){a.setState({edit:!a.state.edit})};var s=window.location.pathname.split("/"),l=void 0===s[3]?a.props.user.id:s[3];return a.state={edit:!1,profileId:l,email:a.props.user.email,password:"",displayName:a.props.user.displayName,role:a.props.user.role},a.props.getProfile(a.state.profileId),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},this.props.profileLoaded&&l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"text-white"},this.props.profile.displayName),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("p",{className:"text-white mr-4"},"Followers: ",this.props.profile.followers),l.a.createElement("p",{className:"text-white"},"Follows: ",this.props.profile.follows)),this.props.loggedIn&&this.props.user.id!==this.state.profileId&&!this.props.user.follows.includes(this.state.profileId)&&l.a.createElement("button",{className:"btn btn-info mb-4",onClick:function(){return e.props.follow(e.state.profileId)}},"Follow"),this.props.loggedIn&&this.props.user.id!==this.state.profileId&&this.props.user.follows.includes(this.state.profileId)&&l.a.createElement("button",{className:"btn btn-success mb-4",onClick:function(){return e.props.unfollow(e.state.profileId)}},"Following"),!this.state.edit&&(this.props.user.id===this.state.profileId||"901ec7ab-e12f-43a4-84f4-9a95965ae600"===this.props.user.id)&&l.a.createElement("button",{className:"btn btn-success mb-4",onClick:function(){return e.toggleEdit()}},"Edit Profile"),this.state.edit&&l.a.createElement("div",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-md-2 col-form-label form-control-label text-white"},"Email"),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("input",{className:"loginInput form-control",type:"text",value:this.state.email,onChange:this.emailChanged})),l.a.createElement("label",{className:"col-md-1 col-form-label form-control-label text-white"},"Username"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("input",{className:"loginInput form-control",type:"text",value:this.state.displayName,onChange:this.displayNameChanged}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-md-2 col-form-label form-control-label text-white"},"Password"),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("input",{className:"loginInput form-control",type:"password",value:this.state.password,onChange:this.displayNameChanged,placeholder:"New Password"})),l.a.createElement("label",{className:"col-md-1 col-form-label form-control-label text-white"},"Role"),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("select",{className:"form-control",id:"role",value:this.state.role,onChange:this.roleChanged},l.a.createElement("option",{value:"LISTENER"},"Listener"),l.a.createElement("option",{value:"CURATOR"},"Curator")))),l.a.createElement("button",{type:"button",className:"mb-3 btn btn-info btn-block",onClick:function(){e.toggleEdit(),e.props.updateUser(e.props.user.id,e.state.email,e.state.displayName,e.state.password,e.state.role)}},"Update"))),l.a.createElement("div",{className:"border-top"},"CURATOR"===this.props.user.role&&this.props.user.id===this.state.profileId&&this.props.savedPlaylists.map(function(e){return l.a.createElement("div",{key:e,className:"card mt-4"},l.a.createElement("iframe",{src:"https://open.spotify.com/embed/user/".concat(e.split("-")[0],"/playlist/").concat(e.split("-")[1]),width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media",className:"w-100 playlist"}),l.a.createElement("div",{className:"spinner-border playlist-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))}),this.props.user.id!==this.state.profileId&&this.props.profile.playlists.map(function(e){return l.a.createElement("div",{key:e,className:"card mt-4"},l.a.createElement("iframe",{src:"https://open.spotify.com/embed/user/".concat(e.split("-")[0],"/playlist/").concat(e.split("-")[1]),width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media",className:"w-100 playlist"}),l.a.createElement("div",{className:"spinner-border playlist-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))}),"CURATOR"===this.props.user.role&&this.props.user.id===this.state.profileId&&0===this.props.savedPlaylists.length&&l.a.createElement("div",{className:"card bg-dark text-black mt-4"},l.a.createElement("img",{className:"card-img",src:window.location.origin+"/smoke-client/playlist.jpg",alt:"Card image"}),l.a.createElement("div",{className:"card-img-overlay"},l.a.createElement("h5",{className:"card-title"},"Interested in curating your own playlists?"),l.a.createElement("p",{className:"card-text"},"Use the search feature to find playlists to add to your curated list!"))),"CURATOR"!==this.props.user.role&&this.props.user.id===this.state.profileId&&l.a.createElement("div",{className:"card bg-dark text-black mt-4"},l.a.createElement("img",{className:"card-img",src:window.location.origin+"/smoke-client/playlist.jpg",alt:"Card image"}),l.a.createElement("div",{className:"card-img-overlay"},l.a.createElement("h5",{className:"card-title"},"Interested in curating your own playlists?"),l.a.createElement("p",{className:"card-text"},"Change your role to Curator and start sharing your favorite playlists!"))),l.a.createElement("div",{className:"mb-4"}))))}}]),t}(l.a.Component),b=function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},l.a.createElement(g.b,{to:"/",className:"navbar-brand"},"Smoke"),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(g.b,{to:"/explore",className:"nav-link"},"Explore")),this.props.loggedIn&&l.a.createElement("li",{className:"nav-item"},l.a.createElement(g.b,{to:"/profile",className:"nav-link"},"My Profile")),this.props.loggedIn&&"CURATOR"===this.props.user.role&&l.a.createElement("li",{className:"nav-item"},l.a.createElement(g.b,{to:"/search",className:"nav-link"},"Search"))),l.a.createElement("div",{className:"ml-auto mr-2"},this.props.loggedIn&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item active my-2 mr-1"},l.a.createElement("a",{className:"text-white"},"Welcome ",this.props.displayName)),l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"col-4 nav-link",onClick:this.props.logout},l.a.createElement("i",{className:"fa fa-sign-out"})))),!this.props.loggedIn&&l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item active my-2 mr-1"},l.a.createElement(g.b,{to:"/login",className:"text-white"},"Login / Register"))))))}}]),t}(l.a.Component),v=function(e){var t=e.playlist,a=e.previewPlaylist;return l.a.createElement("div",{className:"card cardItem"},l.a.createElement("img",{className:"card-img-top",src:t.images[0].url,alt:"Card image cap"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},t.name.length>30?t.name.substring(0,27)+"...":t.name),l.a.createElement("p",{className:"card-text"},"Creator: ",t.owner.display_name),l.a.createElement("a",{className:"btn btn-primary text-white",onClick:function(){return a(t.owner.id,t.name,t.id)}},"Details")))},w=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).queryChanged=function(e){a.setState({query:e.target.value})},a.previewPlaylist=function(e,t,s){a.setState({playlistName:t,userId:e,playlistId:s,redirect:!0})},a.search=function(){a.state.query&&a.props.searchPlaylists(a.state.query)};var s=window.location.pathname.split("/"),l=void 0===s[3]?"":s[3];return a.state={query:l},l&&a.props.searchPlaylists(l),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("ul",{className:"list-group"},l.a.createElement(y.a,{to:"/search/".concat(this.state.query)}),this.state.redirect&&l.a.createElement(y.a,{to:"/details/".concat(this.state.playlistName,"/").concat(this.state.userId,"/").concat(this.state.playlistId,"/").concat(this.state.query)}),l.a.createElement("li",{key:"main",className:"list-group-item mt-2"},l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h2",null,"Search for playlists")),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{id:"search",type:"text",className:"form-control",placeholder:"Enter names or keywords",value:this.state.query,onChange:this.queryChanged}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.search},"Search"))))),l.a.createElement("div",{className:"row mt-3",align:"center"},this.props.playlists.map(function(t){return l.a.createElement("div",{key:t.id,className:"col-sm-12 col-md-6 col-lg-4 mb-4"},l.a.createElement(v,{playlist:t,previewPlaylist:e.previewPlaylist}))})))}}]),t}(l.a.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).props.loggedIn?a.props.explore():a.props.exploreAnon(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wrapper bg-primary"},l.a.createElement("div",{className:"gradient"}),l.a.createElement("div",{className:"main-jumbo jumbotron text-center"},l.a.createElement("h1",{className:"display-4"},"Smoke"),l.a.createElement("p",{className:"lead"},"Find music faster"),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("p",null,"Smoke allows you to find playlist curators that match your interests. Instead of following artists, you can explore the world of playlist creation and listen to new music every day!"),l.a.createElement("button",{className:"btn",onClick:function(){return e.el.scrollIntoView({behavior:"smooth"})}},l.a.createElement("i",{className:"fa fa-arrow-down"}))),l.a.createElement("video",{muted:!0,loop:!0,autoPlay:"autoplay",src:window.location.origin+"/smoke-client/anim.mp4"}),l.a.createElement("div",{className:"container text-center mt-5",ref:function(t){e.el=t}},l.a.createElement("h1",{className:"display-4 text-white"},"Trending"),this.props.exploreCards&&this.props.exploreCards.length>0&&l.a.createElement("div",{className:"card mt-4 mb-3"},l.a.createElement("iframe",{src:"https://open.spotify.com/embed/user/".concat(this.props.exploreCards[0].playlistId.split("-")[0],"/playlist/").concat(this.props.exploreCards[0].playlistId.split("-")[1]),width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media",className:"w-100 playlist"}),l.a.createElement("div",{className:"spinner-border playlist-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))),(!this.props.exploreCards||0===this.props.exploreCards.length)&&l.a.createElement("div",{className:"card mt-4 mb-3"},l.a.createElement("iframe",{src:"https://open.spotify.com/embed/user/spotify/playlist/37i9dQZF1DWX7rdRjOECPW",width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media",className:"w-100 playlist"}),l.a.createElement("div",{className:"spinner-border playlist-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))))}}]),t}(l.a.Component),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).props.loggedIn?a.props.explore():a.props.exploreAnon(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h2",{className:"text-white"},"Explore")),this.props.exploreCards&&this.props.exploreCards.map(function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("div",{className:"text-left"},l.a.createElement("button",{className:"btn-link"},l.a.createElement(g.b,{to:"/profile/"+e.id,className:"btn-link"},l.a.createElement("h3",{className:"text-white"},e.displayName)))),l.a.createElement("div",{className:"border-top"},l.a.createElement("div",{className:"card mt-4 mb-3"},l.a.createElement("iframe",{src:"https://open.spotify.com/embed/user/".concat(e.playlistId.split("-")[0],"/playlist/").concat(e.playlistId.split("-")[1]),width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media",className:"w-100 playlist"}),l.a.createElement("div",{className:"spinner-border playlist-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))))}))}}]),t}(l.a.Component),I=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).back=function(){a.setState({redirect:!0})},a.addRemove=function(){a.props.savedPlaylists.includes(a.state.id)?a.props.deletePlaylist(a.state.id):a.props.addPlaylist(a.state.id)};var s=window.location.pathname.split("/"),l=decodeURI(s[3]),o=s[4],n=s[5],i=decodeURI(s[6]);return a.state={playlistName:l,id:o+"-"+n,url:"https://open.spotify.com/embed/user/".concat(o,"/playlist/").concat(n),query:i},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("ul",{className:"list-group"},this.state.redirect&&l.a.createElement(y.a,{to:"/search/".concat(this.state.query)}),l.a.createElement("li",{key:"main",className:"list-group-item"},l.a.createElement("button",{className:"btn float-left mt-2",onClick:this.back},l.a.createElement("i",{className:"fa fa-arrow-left"})),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"text-center mr-2"},l.a.createElement("h2",null,this.state.playlistName)),!this.props.savedPlaylists.includes(this.state.id)&&l.a.createElement("button",{className:"btn btn-warning",onClick:this.addRemove},l.a.createElement("i",{className:"fa fa-plus"})),this.props.savedPlaylists.includes(this.state.id)&&l.a.createElement("button",{className:"btn btn-success",onClick:this.addRemove},l.a.createElement("i",{className:"fa fa-minus"}))))),l.a.createElement("div",{className:"row mt-3",align:"center"},l.a.createElement("div",{className:"card w-100 h-100"},l.a.createElement("iframe",{src:this.state.url,width:"300",height:"550",frameborder:"0",allowtransparency:"true",allow:"encrypted-media",className:"w-100 playlist"}),l.a.createElement("div",{className:"spinner-border playlist-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))))}}]),t}(l.a.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={waitMessage:!1},a.props.refreshJwt(),setTimeout(function(){a.props.loading&&a.setState({waitMessage:!0})},4e3),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"bg-primary contentContainer h-100"},this.state.waitMessage&&l.a.createElement("div",{className:"text-center text-white w-100 loadingMessage"},l.a.createElement("h2",null,"Server is starting, this may take a second...")),this.props.loading&&l.a.createElement("div",{id:"home-jumbo",className:"center main-jumbo jumbotron"},l.a.createElement("div",{className:"spinner-border home-spinner",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))),!this.props.loading&&l.a.createElement(g.a,{basename:"smoke-client"},l.a.createElement(b,this.props),l.a.createElement(y.b,{exact:!0,path:"/",render:function(){return l.a.createElement(O,e.props)}}),l.a.createElement("div",{className:"container mt-2"},l.a.createElement("div",{className:"container"},l.a.createElement(y.b,{exact:!0,path:"/profile/:profileId",render:function(){return l.a.createElement(N,e.props)}}),this.props.loggedIn&&l.a.createElement(y.b,{exact:!0,path:"/profile",render:function(){return l.a.createElement(N,e.props)}}),!this.props.loggedIn&&l.a.createElement(y.b,{exact:!0,path:"/profile",render:function(){return l.a.createElement(y.a,{to:"/"})}}),l.a.createElement(y.b,{exact:!0,path:"/login",render:function(){return l.a.createElement(E,e.props)}}),l.a.createElement(y.b,{exact:!0,path:"/explore",render:function(){return l.a.createElement(L,e.props)}}),l.a.createElement(y.b,{path:"/search",render:function(){return l.a.createElement(w,e.props)}}),l.a.createElement(y.b,{path:"/details",render:function(){return l.a.createElement(I,e.props)}})))))}}]),t}(l.a.Component),j=function(){function e(){Object(r.a)(this,e),this.search=function(e){return fetch("https://smoke-application.herokuapp.com/api/actions/search/".concat(e),{credentials:"include"}).then(function(e){return 200===e.status?e.json():(console.log("Got search error response code "+e.status),[])},function(e){console.log("Got error"),console.log(e)})},this.getFollows=function(){return fetch("https://smoke-application.herokuapp.com/api/actions/follows",{credentials:"include"}).then(function(e){return 200===e.status?e.json():(console.log("Got getFollows error response code "+e.status),[])},function(e){console.log("Got error"),console.log(e)})},this.follow=function(e){return fetch("https://smoke-application.herokuapp.com/api/actions/follow/".concat(e),{method:"POST",credentials:"include"}).then(function(e){return 200===e.status||(console.log("Got follow error response code "+e.status),!1)},function(e){console.log("Got error"),console.log(e)})},this.unfollow=function(e){return fetch("https://smoke-application.herokuapp.com/api/actions/unfollow/".concat(e),{method:"POST",credentials:"include"}).then(function(e){return 200===e.status||(console.log("Got follow error response code "+e.status),!1)},function(e){console.log("Got unfollow error"),console.log(e)})},this.getPlaylists=function(){return fetch("https://smoke-application.herokuapp.com/api/actions/playlists",{credentials:"include"}).then(function(e){return 200===e.status?e.json():(console.log("Got getPlaylists error response code "+e.status),[])},function(e){console.log("Got getPlaylists error"),console.log(e)})},this.addPlaylist=function(e){return fetch("https://smoke-application.herokuapp.com/api/actions/playlists/".concat(e),{method:"POST",credentials:"include"}).then(function(e){return 200===e.status||(console.log("Got addPlaylist error response code "+e.status),!1)},function(e){console.log("Got error"),console.log(e)})},this.deletePlaylist=function(e){return fetch("https://smoke-application.herokuapp.com/api/actions/playlists/".concat(e,"/delete"),{method:"POST",credentials:"include"}).then(function(e){return 200===e.status||(console.log("Got deletePlaylist error response code "+e.status),!1)},function(e){console.log("Got error"),console.log(e)})}}return Object(i.a)(e,null,[{key:"getInstance",value:function(){return null==e.myInstance&&(e.myInstance=new e),this.myInstance}}]),e}();j.myInstance=null;var k=j,P=function(){function e(){Object(r.a)(this,e),this.getUser=function(){return fetch("https://smoke-application.herokuapp.com/api/users/",{credentials:"include"}).then(function(e){return 200===e.status?e.json():void console.log("Got getUser error response code "+e.status)},function(e){console.log("Got getUser error"),console.log(e)})},this.getProfile=function(e){return fetch("https://smoke-application.herokuapp.com/api/users/profile/".concat(e),{credentials:"include"}).then(function(e){return 200===e.status?e.json():void console.log("Got getProfile error response code "+e.status)},function(e){console.log("Got getProfile error"),console.log(e)})},this.refreshJwt=function(){return fetch("https://smoke-application.herokuapp.com/api/users/refreshJWT",{credentials:"include"}).then(function(e){return 200===e.status?e.json():void console.log("Got login error response code "+e.status)},function(e){console.log("Got refreshJwt error"),console.log(e)})},this.login=function(e,t){return fetch("https://smoke-application.herokuapp.com/api/users/login",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:e,password:t}),credentials:"include"}).then(function(e){return 200===e.status?e.json():void console.log("Got login error response code "+e.status)},function(e){console.log("Got login error"),console.log(e)})},this.logout=function(){return fetch("https://smoke-application.herokuapp.com/api/users/logout",{method:"POST",credentials:"include"}).then(function(e){return 200===e.status||(console.log("Got logout error response code "+e.status),!1)},function(e){console.log("Got logout error"),console.log(e)})},this.register=function(e,t,a,s){return fetch("https://smoke-application.herokuapp.com/api/users/createUser",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:e,displayName:t,password:a,role:s}),credentials:"include"}).then(function(e){return 200===e.status?e.json():void console.log("Got register error response code "+e.status)},function(e){console.log("Got register error"),console.log(e)})},this.updateUser=function(e,t,a,s,l){return fetch("https://smoke-application.herokuapp.com/api/users/updateUser",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({id:e,email:t,displayName:a,password:s,role:l}),credentials:"include"}).then(function(e){return 200===e.status?e.json():void console.log("Got updateUser error response code "+e.status)},function(e){console.log("Got updateUser error"),console.log(e)})}}return Object(i.a)(e,null,[{key:"getInstance",value:function(){return null==e.myInstance&&(e.myInstance=new e),this.myInstance}}]),e}();P.myInstance=null;var S=P,x=k.getInstance(),T=S.getInstance(),G=Object(u.b)(function(e){return{user:e.user,profile:e.profile,profileLoaded:e.profileLoaded,displayName:e.displayName,loggedIn:e.loggedIn,loading:e.loading,playlists:e.playlists,savedPlaylists:e.savedPlaylists,exploreCards:e.exploreCards}},function(e){return{refreshJwt:function(){e({type:"LOADING"}),T.refreshJwt().then(function(t){void 0!==t?(e({type:"LOG_IN",user:t}),x.getFollows().then(function(t){e({type:"SET_FOLLOWS",follows:t}),x.getPlaylists().then(function(t){e({type:"SET_PLAYLISTS",playlists:t}),e({type:"LOADING_COMPLETE"})})})):(console.log("Login failed, user is undefined"),e({type:"LOADING_COMPLETE"}))})},login:function(t,a){e({type:"LOADING"}),T.login(t,a).then(function(t){void 0!==t?(e({type:"LOG_IN",user:t}),x.getFollows().then(function(t){e({type:"SET_FOLLOWS",follows:t}),x.getPlaylists().then(function(t){e({type:"SET_PLAYLISTS",playlists:t}),e({type:"LOADING_COMPLETE"})})})):(console.log("Login failed, user is undefined"),e({type:"LOADING_COMPLETE"}))})},register:function(t,a,s,l){e({type:"LOADING"}),T.register(t,a,s,l).then(function(a){void 0!==a?T.login(t,s).then(function(t){e({type:"LOG_IN",user:t}),x.getFollows().then(function(t){e({type:"SET_FOLLOWS",follows:t}),x.getPlaylists().then(function(t){e({type:"SET_PLAYLISTS",playlists:t}),e({type:"LOADING_COMPLETE"})})})}):(console.log("Login failed, user is undefined"),e({type:"LOADING_COMPLETE"}))})},updateUser:function(t,a,s,l,o){e({type:"LOADING"}),T.updateUser(t,a,s,l,o).then(function(t){console.log("RETURNED USER:"),console.log(t),void 0!==t?(e({type:"LOG_IN",user:t}),x.getFollows().then(function(t){e({type:"SET_FOLLOWS",follows:t}),x.getPlaylists().then(function(t){e({type:"SET_PLAYLISTS",playlists:t}),e({type:"LOADING_COMPLETE"})})})):(console.log("Login failed, user is undefined"),e({type:"LOADING_COMPLETE"}))})},logout:function(){T.logout().then(function(t){e({type:"LOG_OUT"}),document.cookie="jwtToken= ; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"})},getProfile:function(t){e({type:"HIDE_PROFILE"}),T.getProfile(t).then(function(t){e({type:"LOAD_PROFILE",profile:t})})},follow:function(t){x.follow(t).then(function(a){a?(T.getProfile(t).then(function(t){e({type:"LOAD_PROFILE",profile:t})}),x.getFollows().then(function(t){e({type:"SET_FOLLOWS",follows:t})})):console.log("Follow failed")})},unfollow:function(t){x.unfollow(t).then(function(a){a?(T.getProfile(t).then(function(t){e({type:"LOAD_PROFILE",profile:t})}),x.getFollows().then(function(t){e({type:"SET_FOLLOWS",follows:t})})):console.log("Unfollow failed")})},searchPlaylists:function(t){x.search(t).then(function(t){e({type:"SEARCH_PLAYLISTS",playlists:t})})},addPlaylist:function(t){x.addPlaylist(t).then(function(t){t?x.getPlaylists().then(function(t){e({type:"SET_PLAYLISTS",playlists:t})}):console.log("addPlaylist failed")})},deletePlaylist:function(t){x.deletePlaylist(t).then(function(t){t?x.getPlaylists().then(function(t){e({type:"SET_PLAYLISTS",playlists:t})}):console.log("deletePlaylist failed")})},explore:function(){var t=[];x.getFollows().then(function(a){console.log("Follows:"),console.log(a),a.length>0?a.forEach(function(s,l){T.getProfile(s).then(function(s){s.playlists.length>0&&(t.push({id:s.id,displayName:s.displayName,playlistId:s.playlists[0]}),l===a.length-1&&e({type:"SET_EXPLORE",explore:t}))})}):e({type:"SET_EXPLORE_ANON"})})},exploreAnon:function(){e({type:"SET_EXPLORE_ANON"})}}})(C),_=Object(d.b)(f),A=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,{store:_},l.a.createElement(G,null))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(40),a(41);n.a.render(l.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.3ebbc224.chunk.js.map